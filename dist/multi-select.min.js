/*! isteven-angular-multiselect 2017-02-06 */

angular.module("isteven-multi-select",["ng"]).directive("istevenMultiSelect",["$sce","$timeout","$templateCache","$http",function(a,b,c,d){return{restrict:"AE",scope:{outputModel:"=",selectedData:"=",filterUrl:"@",filterType:"@",filterData:"=",selectorId:"@",isDisabled:"=",onClear:"&",onClose:"&",onSearchChange:"&",onItemClick:"&",onOpen:"&",onReset:"&",onSelectAll:"&",onSelectNone:"&",translation:"="},templateUrl:"isteven-multi-select.htm",link:function(c,e,f){function g(a){for(var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",c="",d=0;d<a;d++)c+=b.charAt(Math.floor(Math.random()*b.length));return c}c.backUp=[],c.varButtonLabel="",c.spacingProperty="",c.indexProperty="",c.orientationH=!1,c.orientationV=!0,c.filteredModel=[],c.inputLabel={labelFilter:""},c.tabIndex=0,c.lang={},c.connectService=!1,c.inputModel=[],c.helperStatus={all:!0,none:!0,reset:!0,filter:!0};var h=0,i=[],j=0,k="",l=[],m=0,n=null;c.clearClicked=function(a){c.inputLabel.labelFilter="",c.select("clear",a)},c.$watch("filterData",function(a){a&&c.init()},!0),c.busy=!1,c.init=function(){"undefined"==typeof c.bean&&(c.bean={}),isEmpty(c.filterUrl)||c.busy?c.busy=!1:!c.inputModel||c.inputModel.length<=0||c.filterData&&c.filterData.length>0&&c.filterData!==c.bean.filterdata?(c.bean.fromIndex=0,c.bean.flag="init",angular.forEach(c.filteredModel,function(a,b){"undefined"!=typeof a&&a[f.disableProperty]!==!0&&"undefined"==typeof a[f.groupProperty]&&(a[c.tickProperty]=!1)}),c.refreshOutputModel(),0===c.outputModel.length&&c.refreshButton(),c.refreshOutputModel(),c.refreshButton(),c.onSelectNone(),c.bean.selecteddata=c.selectedData,c.bean.filtertype=c.filterType,c.bean.filterdata=c.filterData,c.busy=!0,d.post(c.filterUrl,c.bean).success(function(a,b,d,e){if("success"===a.status){if(c.message=a.message,!a.data.filterRecord||0===a.data.filterRecord.length)return c.inputModel=[],!1;c.inputModel=a.data.filterRecord,c.prepareIndex()}else console.error(a.message),c.message=a.message;c.busy=!1}).error(function(a,b,d,e){c.busy=!1,console.error(a)})):c.busy=!1,c.filterInputModel=c.inputModel},c.numberToArray=function(a){return new Array(a)},c.searchChanged=function(a){return!(c.inputLabel.labelFilter.length<m&&c.inputLabel.labelFilter.length>0)&&void b(c.updateFilter(),800)},c.updateFilter=function(){c.filteredModel=[];var a=0;if("undefined"==typeof c.inputModel)return!1;for(a=c.inputModel.length-1;a>=0;a--)c.filteredModel.push(c.inputModel[a]);c.filteredModel.reverse(),null==c.filterUrl||""===c.filterUrl||null==c.inputLabel.labelFilter||""===c.inputLabel.labelFilter||c.busy||(c.bean={},c.bean.filterName=c.inputLabel.labelFilter,c.bean.flag="filter",c.bean.fromIndex=0,c.busy=!0,d.post(c.filterUrl,c.bean).success(function(a,b,d,e){if("success"===a.status){if(c.message=a.message,c.filteredModel=a.data.filterRecord,!a.data.filterRecord||0===a.data.filterRecord.length)return!1;angular.forEach(a.data.filterRecord,function(a,b){for(var d=0;d<c.filterInputModel.length;d++)if(c.filterInputModel[d].id===a.id&&c.filterInputModel[d].name===a.name)return;c.filterInputModel.push({id:a.id,name:a.name,ticked:a.ticked})}),c.filterInputModel.reverse(),c.prepareIndex()}else console.error(a.message),c.message=a.message;c.busy=!1}).error(function(a,b,d,e){console.error(a),c.busy=!1})),b(function(){if(c.getFormElements(),c.inputLabel.labelFilter.length>m){var a=[];angular.forEach(c.filteredModel,function(b,d){if("undefined"!=typeof b&&"undefined"==typeof b[f.groupProperty]){var e=angular.copy(b),g=a.push(e);delete a[g-1][c.indexProperty],delete a[g-1][c.spacingProperty]}}),c.onSearchChange({data:{keyword:c.inputLabel.labelFilter,result:a}})}},0)},c.hasMore=!0,c.loadMore=function(){c.filteredModel.length>=20&&(c.bean={},c.bean.fromIndex=c.filteredModel.length,c.bean.flag="scoller",d.post(c.filterUrl,c.bean).success(function(a,b,d,e){if("success"===a.status){if(c.message=a.message,!a.data.filterRecord||0===a.data.filterRecord.length)return c.hasMore=!1,!1;a.data.filterRecord.length<20&&(c.hasMore=!1),angular.forEach(a.data.filterRecord,function(a,b){c.filteredModel.push({id:a.id,name:a.name,ticked:a.ticked}),c.filterInputModel.push({id:a.id,name:a.name,ticked:a.ticked})}),c.prepareIndex()}else console.error(a.message),c.message=a.message}).error(function(a,b,c,d){console.error(a)}))},c.getFormElements=function(){l=[];var a=[],b=[],d=[],f=[];c.helperStatus.all||c.helperStatus.none||c.helperStatus.reset?(a=e.children().children().next().children().children()[0].getElementsByTagName("button"),c.helperStatus.filter&&(b=e.children().children().next().children().children().next()[0].getElementsByTagName("input"),f=e.children().children().next().children().children().next()[0].getElementsByTagName("button"))):c.helperStatus.filter&&(b=e.children().children().next().children().children()[0].getElementsByTagName("input"),f=e.children().children().next().children().children()[0].getElementsByTagName("button")),d=c.helperStatus.all||c.helperStatus.none||c.helperStatus.reset||c.helperStatus.filter?e.children().children().next().children().next()[0].getElementsByTagName("input"):e.children().children().next()[0].getElementsByTagName("input");for(var g=0;g<a.length;g++)l.push(a[g]);for(var h=0;h<b.length;h++)l.push(b[h]);for(var i=0;i<f.length;i++)l.push(f[i]);for(var j=0;j<d.length;j++)l.push(d[j])},c.isGroupMarker=function(a,b){return"undefined"!=typeof a[f.groupProperty]&&a[f.groupProperty]===b},c.removeGroupEndMarker=function(a){return"undefined"==typeof a[f.groupProperty]||a[f.groupProperty]!==!1},c.syncItems=function(a,d,e){if(d.preventDefault(),d.stopPropagation(),"undefined"!=typeof f.disableProperty&&a[f.disableProperty]===!0)return!1;if("undefined"!=typeof f.isDisabled&&c.isDisabled===!0)return!1;if("undefined"!=typeof a[f.groupProperty]&&a[f.groupProperty]===!1)return!1;var g=c.filteredModel.indexOf(a);if("undefined"!=typeof a[f.groupProperty]&&a[f.groupProperty]===!0){if("undefined"!=typeof f.selectionMode&&"SINGLE"===f.selectionMode.toUpperCase())return!1;var i,k,l=0,m=c.filteredModel.length-1,o=[],p=0;for(i=g;i<c.filteredModel.length&&!(0===p&&i>g);i++)if("undefined"!=typeof c.filteredModel[i][f.groupProperty]&&c.filteredModel[i][f.groupProperty]===!0)0===o.length&&(l=i+1),p+=1;else if("undefined"!=typeof c.filteredModel[i][f.groupProperty]&&c.filteredModel[i][f.groupProperty]===!1){if(p-=1,o.length>0&&0===p){var q=!0;for(m=i,k=0;k<o.length;k++)if("undefined"!=typeof o[k][c.tickProperty]&&o[k][c.tickProperty]===!1){q=!1;break}var r;if(q===!0)for(k=l;k<=m;k++)"undefined"==typeof c.filteredModel[k][f.groupProperty]&&("undefined"==typeof f.disableProperty?(c.filteredModel[k][c.tickProperty]=!1,r=c.filteredModel[k][c.indexProperty],c.inputModel[r][c.tickProperty]=!1):c.filteredModel[k][f.disableProperty]!==!0&&(c.filteredModel[k][c.tickProperty]=!1,r=c.filteredModel[k][c.indexProperty],c.inputModel[r][c.tickProperty]=!1));else for(k=l;k<=m;k++)"undefined"==typeof c.filteredModel[k][f.groupProperty]&&("undefined"==typeof f.disableProperty?(c.filteredModel[k][c.tickProperty]=!0,r=c.filteredModel[k][c.indexProperty],c.inputModel[r][c.tickProperty]=!0):c.filteredModel[k][f.disableProperty]!==!0&&(c.filteredModel[k][c.tickProperty]=!0,r=c.filteredModel[k][c.indexProperty],c.inputModel[r][c.tickProperty]=!0))}}else o.push(c.filteredModel[i])}else{if("undefined"!=typeof f.selectionMode&&"SINGLE"===f.selectionMode.toUpperCase()){for(i=0;i<c.filteredModel.length;i++)c.filteredModel[i][c.tickProperty]=!1;for(i=0;i<c.inputModel.length;i++)c.inputModel[i][c.tickProperty]=!1;c.filteredModel[g][c.tickProperty]=!0}else c.filteredModel[g][c.tickProperty]=!c.filteredModel[g][c.tickProperty];angular.forEach(c.inputModel,function(b,d){b.name===a.name&&(b[c.tickProperty]=c.filteredModel[g][c.tickProperty])})}n=angular.copy(a),null!==n&&b(function(){delete n[c.indexProperty],delete n[c.spacingProperty],c.onItemClick({data:n}),n=null},0),c.refreshOutputModel(),c.refreshButton(),h=c.tabIndex,c.tabIndex=e+j,d.target.focus(),c.removeFocusStyle(h),c.setFocusStyle(c.tabIndex),"undefined"!=typeof f.selectionMode&&"SINGLE"===f.selectionMode.toUpperCase()&&c.toggleCheckboxes(d)},c.removeSelected=function(a,b){if(b.preventDefault(),b.stopPropagation(),0!==c.outputModel.length&&null!=c.outputModel&&"undefined"!=typeof a&&""!==a){for(var d=0;d<c.filterInputModel.length;d++)if(c.filterInputModel[d].id===a&&c.filterInputModel[d][c.tickProperty]===!0){c.filterInputModel[d][c.tickProperty]=!1;break}for(var e=0;e<c.filteredModel.length;e++)if(c.filteredModel[e].id===a&&c.filteredModel[e][c.tickProperty]===!0){c.filteredModel[e][c.tickProperty]=!1;break}c.refreshOutputModel(),0===c.outputModel.length&&c.refreshButton()}},c.refreshOutputModel=function(){c.outputModel=[];var a=[],b={};c.filterInputModel=c.inputModel,"undefined"!=typeof f.outputProperties?(a=f.outputProperties.split(" "),angular.forEach(c.filterInputModel,function(d,e){if("undefined"!=typeof d&&"undefined"==typeof d[f.groupProperty]&&d[c.tickProperty]===!0){b={},angular.forEach(d,function(c,d){a.indexOf(d)>-1&&(b[d]=c)});var g=c.outputModel.push(b);delete c.outputModel[g-1][c.indexProperty],delete c.outputModel[g-1][c.spacingProperty]}})):angular.forEach(c.filterInputModel,function(a,b){if("undefined"!=typeof a&&"undefined"==typeof a[f.groupProperty]&&a[c.tickProperty]===!0){var d=angular.copy(a),e=c.outputModel.push(d);delete c.outputModel[e-1][c.indexProperty],delete c.outputModel[e-1][c.spacingProperty]}})},c.refreshButton=function(){c.varButtonLabel="";var b=0;if(0===c.outputModel.length)c.varButtonLabel=c.lang.nothingSelected;else{var d=1;"undefined"!=typeof f.maxLabels&&""!==f.maxLabels&&(d=f.maxLabels),c.outputModel.length>d?c.more=!0:c.more=!1,angular.forEach(c.outputModel,function(a,e){"undefined"!=typeof a&&a[f.tickProperty]===!0&&(b<d&&(c.varButtonLabel+=(c.varButtonLabel.length>0?'</div>, <div class="buttonLabel text-left">':'<div class="buttonLabel  text-left">')+c.writeLabel(a,"buttonLabel")),b++)}),c.more===!0&&(d>0&&(c.varButtonLabel+=", ... "),c.varButtonLabel+="等"+c.outputModel.length+"项&nbsp;&nbsp;&nbsp;")}c.varButtonLabel=a.trustAsHtml(c.varButtonLabel+'<span class="caret"></span>')},c.itemIsDisabled=function(a){return"undefined"!=typeof f.disableProperty&&a[f.disableProperty]===!0||c.isDisabled===!0},c.writeLabel=function(b,c){var d=f[c].split(" "),e="";return angular.forEach(d,function(a,c){b[a]&&(e+="&nbsp;"+a.split(".").reduce(function(a,b){return a[b]},b))}),"BUTTONLABEL"===c.toUpperCase()?e:a.trustAsHtml(e)},c.toggleCheckboxes=function(a){var d=e.children()[0];if(angular.element(document).off("click",c.externalClickListener),angular.element(document).off("keydown",c.keyboardListener),angular.element(k).hasClass("show"))angular.element(k).removeClass("show"),angular.element(d).removeClass("buttonClicked"),angular.element(document).off("click",c.externalClickListener),angular.element(document).off("keydown",c.keyboardListener),c.removeFocusStyle(c.tabIndex),"undefined"!=typeof l[c.tabIndex]&&l[c.tabIndex].blur(),b(function(){c.onClose()},0),e.children().children()[0].focus();else{c.inputLabel.labelFilter="",c.updateFilter(),i=[],j=0,angular.element(k).addClass("show"),angular.element(d).addClass("buttonClicked"),angular.element(document).on("click",c.externalClickListener),angular.element(document).on("keydown",c.keyboardListener),c.getFormElements(),c.tabIndex=0;var f=angular.element(e[0].querySelector(".helperContainer"))[0];if("undefined"!=typeof f){for(var g=0;g<f.getElementsByTagName("BUTTON").length;g++)i[g]=f.getElementsByTagName("BUTTON")[g];j=i.length+f.getElementsByTagName("INPUT").length}e[0].querySelector(".inputFilter")?(e[0].querySelector(".inputFilter").focus(),c.tabIndex=c.tabIndex+j-2,angular.element(e).children()[0].blur()):c.isDisabled||(c.tabIndex=c.tabIndex+j,c.inputModel.length>0&&(l[c.tabIndex].focus(),c.setFocusStyle(c.tabIndex),angular.element(e).children()[0].blur())),c.onOpen()}},c.externalClickListener=function(a){for(var d=e.find(a.target.tagName),f=0;f<d.length;f++)if(a.target==d[f])return;angular.element(k.previousSibling).removeClass("buttonClicked"),angular.element(k).removeClass("show"),angular.element(document).off("click",c.externalClickListener),angular.element(document).off("keydown",c.keyboardListener),b(function(){c.onClose()},0),e.children().children()[0].focus()},c.select=function(a,b){var d=i.indexOf(b.target);switch(c.tabIndex=d,a.toUpperCase()){case"ALL":angular.forEach(c.filteredModel,function(a,b){"undefined"!=typeof a&&a[f.disableProperty]!==!0&&"undefined"==typeof a[f.groupProperty]&&(a[c.tickProperty]=!0)}),angular.forEach(c.filterInputModel,function(a,b){"undefined"!=typeof a&&a[f.disableProperty]!==!0&&"undefined"==typeof a[f.groupProperty]&&(a[c.tickProperty]=!0)}),c.refreshOutputModel(),c.refreshButton(),c.onSelectAll();break;case"NONE":angular.forEach(c.filteredModel,function(a,b){"undefined"!=typeof a&&a[f.disableProperty]!==!0&&"undefined"==typeof a[f.groupProperty]&&(a[c.tickProperty]=!1)}),c.refreshOutputModel(),c.refreshButton(),c.onSelectNone();break;case"RESET":angular.forEach(c.filteredModel,function(a,b){if("undefined"==typeof a[f.groupProperty]&&"undefined"!=typeof a&&a[f.disableProperty]!==!0){a[c.indexProperty];a[c.tickProperty]=!1}}),c.refreshOutputModel(),c.refreshButton(),c.onReset();break;case"CLEAR":c.tabIndex=c.tabIndex+1,c.onClear();break;case"FILTER":c.tabIndex=i.length-1}},c.prepareGrouping=function(){var a=0;angular.forEach(c.filteredModel,function(b,d){b[c.spacingProperty]=a,b[f.groupProperty]===!0?a+=2:b[f.groupProperty]===!1&&(a-=2)})},c.prepareIndex=function(){var a=0;angular.forEach(c.filteredModel,function(b,d){b[c.indexProperty]=a,a++})},c.keyboardListener=function(a){var b=a.keyCode?a.keyCode:a.which,d=!1;if(27===b)a.preventDefault(),a.stopPropagation(),c.toggleCheckboxes(a);else if(40===b||39===b||!a.shiftKey&&9==b)for(d=!0,h=c.tabIndex,c.tabIndex++,c.tabIndex>l.length-1&&(c.tabIndex=0,h=l.length-1);l[c.tabIndex].disabled===!0&&(c.tabIndex++,c.tabIndex>l.length-1&&(c.tabIndex=0),c.tabIndex!==h););else if(38===b||37===b||a.shiftKey&&9==b)for(d=!0,h=c.tabIndex,c.tabIndex--,c.tabIndex<0&&(c.tabIndex=l.length-1,h=0);l[c.tabIndex].disabled===!0&&(c.tabIndex--,c.tabIndex!==h);)c.tabIndex<0&&(c.tabIndex=l.length-1);if(d===!0){a.preventDefault(),l[c.tabIndex].focus();var e=document.activeElement;"CHECKBOX"===e.type.toUpperCase()?(c.setFocusStyle(c.tabIndex),c.removeFocusStyle(h)):(c.removeFocusStyle(h),c.removeFocusStyle(j),c.removeFocusStyle(l.length-1))}d=!1},c.setFocusStyle=function(a){angular.element(l[a]).parent().parent().parent().addClass("multiSelectFocus")},c.removeFocusStyle=function(a){angular.element(l[a]).parent().parent().parent().removeClass("multiSelectFocus")},c.groupProperty=f.groupProperty,c.tickProperty=f.tickProperty,c.directiveId=f.directiveId;var o=g(5);if(c.indexProperty="idx_"+o,c.spacingProperty="spc_"+o,"undefined"!=typeof f.orientation&&("HORIZONTAL"===f.orientation.toUpperCase()?(c.orientationH=!0,c.orientationV=!1):(c.orientationH=!1,c.orientationV=!0)),k=e.children().children().next()[0],"undefined"!=typeof f.maxHeight){var p=e.children().children().children()[0];angular.element(p).attr("style","height:"+f.maxHeight+"; overflow-y:scroll;")}for(var q in c.helperStatus)c.helperStatus.hasOwnProperty(q)&&"undefined"!=typeof f.helperElements&&f.helperElements.toUpperCase().indexOf(q.toUpperCase())===-1&&(c.helperStatus[q]=!1);"undefined"!=typeof f.selectionMode&&"SINGLE"===f.selectionMode.toUpperCase()&&(c.helperStatus.all=!1,c.helperStatus.none=!1),c.icon={},c.icon.selectAll="&#10003;",c.icon.selectNone="&times;",c.icon.reset="&#8630;",c.icon.tickMark="&#10003;","undefined"!=typeof f.translation?(c.lang.selectAll=a.trustAsHtml(c.icon.selectAll+"&nbsp;&nbsp;"+c.translation.selectAll),c.lang.selectNone=a.trustAsHtml(c.icon.selectNone+"&nbsp;&nbsp;"+c.translation.selectNone),c.lang.reset=a.trustAsHtml(c.icon.reset+"&nbsp;&nbsp;"+c.translation.reset),c.lang.search=c.translation.search,c.lang.nothingSelected=a.trustAsHtml(c.translation.nothingSelected)):(c.lang.selectAll=a.trustAsHtml(c.icon.selectAll+"&nbsp;&nbsp;Select All"),c.lang.selectNone=a.trustAsHtml(c.icon.selectNone+"&nbsp;&nbsp;Select None"),c.lang.reset=a.trustAsHtml(c.icon.reset+"&nbsp;&nbsp;Reset"),c.lang.search="Search...",c.lang.nothingSelected=""),c.icon.tickMark=a.trustAsHtml(c.icon.tickMark),"undefined"!=typeof f.MinSearchLength&&parseInt(f.MinSearchLength)>0&&(m=Math.floor(parseInt(f.MinSearchLength))),c.$watch("inputModel",function(a){a&&(c.refreshOutputModel(),c.refreshButton())},!0),c.$watch("inputModel",function(a){a&&(c.backUp=angular.copy(c.inputModel),c.updateFilter(),c.prepareGrouping(),c.prepareIndex(),c.refreshOutputModel(),c.refreshButton())}),c.$watch("isDisabled",function(a){c.isDisabled=a}),c.$watch("selectedData",function(a){a&&(c.backUp=angular.copy(c.inputModel),c.updateFilter(),c.prepareGrouping(),c.prepareIndex(),c.refreshOutputModel(),c.refreshButton(),c.init())});var r=function(a){c.$apply(function(){c.scrolled=!1})};angular.element(document).bind("touchstart",r);var s=function(a){c.$apply(function(){c.scrolled=!0})};angular.element(document).bind("touchmove",s),c.$on("$destroy",function(){angular.element(document).unbind("touchstart",r),angular.element(document).unbind("touchmove",s)})}}}]).run(["$templateCache",function(a){var b='<span class="multiSelect inlineBlock"><button class="form-control pull-left" id="{{directiveId}}" type="button"ng-click="toggleCheckboxes( $event ); refreshSelectedItems(); refreshButton(); prepareGrouping; prepareIndex(); init();"ng-bind-html="varButtonLabel"ng-disabled="disable-button"></button><div class="checkboxLayer"><div class="helperContainer" ng-if="helperStatus.filter || helperStatus.all || helperStatus.none || helperStatus.reset "><div class="line" ng-if="helperStatus.all || helperStatus.none || helperStatus.reset "><button name="selectAll" type="button" class="helperButton"ng-disabled="isDisabled"ng-if="helperStatus.all"ng-click="select( \'all\', $event );"ng-bind-html="lang.selectAll"></button><button name="selectNone" type="button" class="helperButton"ng-disabled="isDisabled"ng-if="helperStatus.none"ng-click="select( \'none\', $event );"ng-bind-html="lang.selectNone"></button><button name="reset" type="button" class="helperButton reset"ng-disabled="isDisabled"ng-if="helperStatus.reset"ng-click="select( \'reset\', $event );"ng-bind-html="lang.reset"></button></div><div class="line" style="position:relative" ng-if="helperStatus.filter"><input name="inputFilter" placeholder="{{lang.search}}" type="text"ng-click="select( \'filter\', $event )" ng-model="inputLabel.labelFilter" ng-change="" class="inputFilter"/><button type="button" class="clearButton" ng-click="clearClicked($event)" >×</button> <button type="button" class="searchButton" ng-click="searchChanged()" >search</button> </div> <div class="line" style="position:relative"><span ng-repeat="item in outputModel"><button data-toggle="tooltip" data-placement="bottom" title="移除" ng-click="removeSelected(item.id, $event)" class="helperButton" ng-bind="\'x \'+item.name"></button></span></div></div> <div id="{{selectorId}}" class="checkBoxContainer" scroll-bottom="loadMore()" selector-id="selectorId"><div name="{{item.name}}" ng-repeat="item in filteredModel | filter:removeGroupEndMarker" class="multiSelectItem"ng-class="{selected: item[ tickProperty ], horizontal: orientationH, vertical: orientationV, multiSelectGroup:item[ groupProperty ], disabled:itemIsDisabled( item )}"ng-click="syncItems( item, $event, $index );" ng-mouseleave="removeFocusStyle( tabIndex );"> <div class="acol" ng-if="item[ spacingProperty ] > 0" ng-repeat="i in numberToArray( item[ spacingProperty ] ) track by $index"></div>  <div class="acol"><label><input class="checkbox focusable" type="checkbox" ng-disabled="itemIsDisabled( item )" ng-checked="item[ tickProperty ]" ng-click="syncItems( item, $event, $index )" value="{{item.id}}" /><span ng-class="{disabled:itemIsDisabled( item )}" ng-bind-html="writeLabel( item, \'itemLabel\' )"></span></label></div><span class="tickMark" ng-if="item[ groupProperty ] !== true && item[ tickProperty ] === true" ng-bind-html="icon.tickMark"></span></div><div class="multiSelectItem" ng-if="filteredModel.length >= 20 && hasMore">Load More……</div></div></div></span>';a.put("isteven-multi-select.htm",b)}]).directive("scrollBottom",["$timeout",function(a){return{scope:{scrollBottom:"&",selectorId:"="},restrict:"A",link:function(b,c,d){a(function(){var d=angular.element(document.getElementById(b.selectorId));d.bind("scroll",function(){d=d[0]||d,d.offsetHeight+d.scrollTop===d.scrollHeight&&a(function(){b.scrollBottom(),b.$apply()},500)}),c.on("$destroy",function(){c.unbind("scroll")})},500)}}}]);
//# sourceMappingURL=multi-select.map